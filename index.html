<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Up Job Alerts</title>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="app/css/style.css" />
</head>
</body>
<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>
<!-- Add Firebase products that you want to use -->
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-firestore.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>


<!-- <h1 id="hotDogOutput">Hot Dog Status: </h1>
<input type="textfield" id="latestHotDogStatus" />
<button id="saveButton">Save</button> -->

<div class="header">
  <ul class="header-nav">
    <li><a href="#">Home</a></li>
    <li><a href="#">Admit Cards</a></li>
    <li><a href="#">Results</a></li>
    <li><a href="#">Resources</a></li>
    <li><a href="#">Daily Tests</a></li>
    <li><a href="#">Blog</a></li>
  </ul>
</div>


<div id="latest_jobs_list">
  <ul>
    <li v-for="x in todos">
    <p>{{ x.data.jobTitle }}</p>
    <a v-bind:href="'job_details.html?job_id='+ x.id">More Details</a>
      
    </li>
    
   </ul>
 </div>

<div class="footer">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/">Resources</a></li>
    <li><a href="/">Daily Tests</a></li>
    <li><a href="login.html">Login</a></li>
    <li><a href="add-job-posting.html">Add Job Posting</a></li>
  </ul>
</div>

<script src="./app/app.js"></script>
<script>
   var firestore = firebase.firestore();
   var jobListingData = [] ;
   firestore.collection("Jobs_List")
    .get()
    .then((querySnapshot) => {
        querySnapshot.forEach((vaccany) => {
            // doc.data() is never undefined for query doc snapshots
            console.log(vaccany.id, " => ", vaccany.data());
            var jobItem = {"id": vaccany.id, "data": vaccany.data()}
            console.log(jobItem);
            jobListingData.push(jobItem);
        });
    })
    .catch((error) => {
        console.log("Error getting documents: ", error);
    });

    myObject = new Vue({
     el: '#latest_jobs_list',
     data: {
        todos: jobListingData
    }
 })
</script>
</body>
</html>
